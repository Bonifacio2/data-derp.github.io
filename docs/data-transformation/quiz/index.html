<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Data Derp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Data Derp Atom Feed"><title data-react-helmet="true">Quiz | Data Derp</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://data-derp.github.io/docs/data-transformation/quiz"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Quiz | Data Derp"><meta data-react-helmet="true" name="description" content="Why might you generally want to transform data “close” to its source?"><meta data-react-helmet="true" property="og:description" content="Why might you generally want to transform data “close” to its source?"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://data-derp.github.io/docs/data-transformation/quiz"><link data-react-helmet="true" rel="alternate" href="https://data-derp.github.io/docs/data-transformation/quiz" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://data-derp.github.io/docs/data-transformation/quiz" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9a716cea.css">
<link rel="preload" href="/assets/js/runtime~main.494663ee.js" as="script">
<link rel="preload" href="/assets/js/main.f22cb015.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Data Derp logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Data Derp logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Data Derp</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Lessons</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/data-derp/data-derp.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tour Agenda</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-engineering-the-good-parts/data-milky-way-overview">Data Engineering: The Good Parts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/project-design/overview">Project Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-ingestion/exercise-overview">Data Ingestion</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/data-transformation/overview">Data Transformation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/why-transform-data">Why Transform Data?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/etl-vs-elt">ETL vs. ELT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/sql-quick-review">SQL: A Quick Review</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/apache-spark">Apache Spark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/spark-workflow-and-partitioning">Spark Workflow and Partitioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/spark-on-kubernetes">Spark on Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/wrangling-with-spark">Wrangling with Spark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/data-transformation/quiz">Quiz</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/exercise-overview">Project Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/exercise-core-logic">Exercise: Core Logic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/exercise-production-code">Exercise: Production Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/exercise-create-infrastructure-in-the-cloud">Exercise: Create Infrastructure in the Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/exercise-infra-as-code">Exercise: Infrastructure as Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-transformation/exercise-finale">Exercise Finale: Spark Performance Tips</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-visualisation/understanding-your-data">Data Visualisation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-science-and-interpretability/overview">Data Science and Interpretability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/beyond-the-batch/overview">Beyond the Batch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/making-big-data-work/overview">Making Big Data Work</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-mesh/overview">Data Mesh</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Quiz</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="why-might-you-generally-want-to-transform-data-close-to-its-source">Why might you generally want to transform data “close” to its source?<a class="hash-link" href="#why-might-you-generally-want-to-transform-data-close-to-its-source" title="Direct link to heading">​</a></h2><p>(e.g. if your huge dataset lies on AWS S3, why would you often/generally want to crunch it within your AWS tenant/account first rather than serving the raw data directly to consumers?)</p><blockquote><p>Cost: transferring large amounts of data out of your cloud provider/data warehouse can often result in expensive egress fees 😤</p></blockquote><blockquote><p>Performance:
Your should deploy your Data Lake and Big Data Compute services on the same cloud provider(s) to minimize data transfer over networks and also to avoid those egress fees mentioned above!
You should leverage your Big Data Compute services’ (e.g. Databricks, AWS Glue, AWS EMR, Azure Synapse Analytics) highly performant/scalable connectors to S3 (AWS) or ADLS Gen2 (Azure) to scan data efficiently</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="when-should-you-use-etl-vs-elt-why">When should you use ETL vs ELT, why?<a class="hash-link" href="#when-should-you-use-etl-vs-elt-why" title="Direct link to heading">​</a></h2><blockquote><p>ETL is great for workloads that are reused by many consumers so it makes sense to shape the data consistently sooner rather than later </p></blockquote><blockquote><p>ELT is great for consumers who need some flexibility. With respect to speed, ELT can sometimes be a bit slow and wasteful as you have to often re-process/re-transform the raw data all over again
At the end the day, it depends what makes the most sense for your use-case!</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="whats-the-difference-between-a-join-and-a-union">What’s the difference between a Join and a Union?<a class="hash-link" href="#whats-the-difference-between-a-join-and-a-union" title="Direct link to heading">​</a></h2><blockquote><p>Hopefully the pictures/diagrams in <a href="https://www.essentialsql.com/what-is-the-difference-between-a-join-and-a-union/" target="_blank" rel="noopener noreferrer">this article</a> provide a clear intuition.
Both operations are essential knowledge!</p></blockquote><p>Please avoid these classic mistakes:</p><ol><li>If you’re using JOIN, make sure that you don’t have duplicate column names on the two tables before joining (other than the joining keys themselves)</li><li>If you’re using UNION, make sure that the two tables/DataFrames have identical columns and column orderings</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-does-a-group-by-aggregation-do">What does a GROUP BY aggregation do?<a class="hash-link" href="#what-does-a-group-by-aggregation-do" title="Direct link to heading">​</a></h2><blockquote><p>In standard SQL, it aggregates rows that share the same grouping key into a single summary row</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="whats-one-scenario-where-using-window-functions-are-advantageous-over-groupby-aggregations">What’s one scenario where using Window functions are advantageous over GroupBy aggregations?<a class="hash-link" href="#whats-one-scenario-where-using-window-functions-are-advantageous-over-groupby-aggregations" title="Direct link to heading">​</a></h2><blockquote><p>Have a look at <a href="https://databricks.com/blog/2015/07/15/introducing-window-functions-in-spark-sql.html" target="_blank" rel="noopener noreferrer">this example</a></p><p>Basically, Window functions allow you to maintain all of your original rows (without having to collapse/summarize them per group)</p><p>Of course, there are times when you’d want to aggregate instead of window as well, depends on the query/business question!</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="question-what-kinds-of-operations-often-induce-shuffling-in-your-spark-job">Question: What kinds of operations often induce shuffling in your Spark job?<a class="hash-link" href="#question-what-kinds-of-operations-often-induce-shuffling-in-your-spark-job" title="Direct link to heading">​</a></h2><blockquote><p><a href="https://databricks.com/glossary/what-are-transformations" target="_blank" rel="noopener noreferrer">“Wide Transformations/Dependencies”</a> such as joins, aggregations, window functions. Implication: they can really slow down your Spark job. <a href="https://databricks.com/glossary/what-are-transformations" target="_blank" rel="noopener noreferrer">Concise summary here.</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-are-some-most-powerful-ways-that-you-can-optimise-your-spark-job">What are some most powerful ways that you can optimise your Spark job?<a class="hash-link" href="#what-are-some-most-powerful-ways-that-you-can-optimise-your-spark-job" title="Direct link to heading">​</a></h2><blockquote><p>Partition your data smartly such that the most common filters and groupBys in your queries don’t have to scan/shuffle all partitions unnecessarily</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="joins-are-often-important-and-inevitableso-how-might-you-optimize-a-join-to-minimize-shuffling">Joins are often important and inevitable...so how might you optimize a join to minimize shuffling?<a class="hash-link" href="#joins-are-often-important-and-inevitableso-how-might-you-optimize-a-join-to-minimize-shuffling" title="Direct link to heading">​</a></h2><blockquote><p>via broadcast join (small join tables) OR partition your data such that data for the same join key isn’t spread across too many different partitions</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="whats-a-good-rule-of-thumb-for-partitioning">What’s a good rule of thumb for partitioning?<a class="hash-link" href="#whats-a-good-rule-of-thumb-for-partitioning" title="Direct link to heading">​</a></h2><blockquote><p>Partition on columns that you would typically do a filter/groupBy </p><p>A partition should ideally contain anywhere between 256MB - 2GB of data. Too many small partitions (each containing kilobytes means you have lots of small files - that’s bad!)</p><p>For the small file reason above, you generally shouldn’t partition on high cardinality columns</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/data-derp/data-derp.github.io/tree/master/docs/docs/data-transformation/quiz.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/data-transformation/wrangling-with-spark"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Wrangling with Spark</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/data-transformation/exercise-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Project Overview</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-might-you-generally-want-to-transform-data-close-to-its-source" class="table-of-contents__link toc-highlight">Why might you generally want to transform data “close” to its source?</a></li><li><a href="#when-should-you-use-etl-vs-elt-why" class="table-of-contents__link toc-highlight">When should you use ETL vs ELT, why?</a></li><li><a href="#whats-the-difference-between-a-join-and-a-union" class="table-of-contents__link toc-highlight">What’s the difference between a Join and a Union?</a></li><li><a href="#what-does-a-group-by-aggregation-do" class="table-of-contents__link toc-highlight">What does a GROUP BY aggregation do?</a></li><li><a href="#whats-one-scenario-where-using-window-functions-are-advantageous-over-groupby-aggregations" class="table-of-contents__link toc-highlight">What’s one scenario where using Window functions are advantageous over GroupBy aggregations?</a></li><li><a href="#question-what-kinds-of-operations-often-induce-shuffling-in-your-spark-job" class="table-of-contents__link toc-highlight">Question: What kinds of operations often induce shuffling in your Spark job?</a></li><li><a href="#what-are-some-most-powerful-ways-that-you-can-optimise-your-spark-job" class="table-of-contents__link toc-highlight">What are some most powerful ways that you can optimise your Spark job?</a></li><li><a href="#joins-are-often-important-and-inevitableso-how-might-you-optimize-a-join-to-minimize-shuffling" class="table-of-contents__link toc-highlight">Joins are often important and inevitable...so how might you optimize a join to minimize shuffling?</a></li><li><a href="#whats-a-good-rule-of-thumb-for-partitioning" class="table-of-contents__link toc-highlight">What’s a good rule of thumb for partitioning?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Lessons</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="#" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/data-derp" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Data Derp</div></div></div></footer></div>
<script src="/assets/js/runtime~main.494663ee.js"></script>
<script src="/assets/js/main.f22cb015.js"></script>
</body>
</html>