<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Data Derp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Data Derp Atom Feed"><title data-react-helmet="true">Intro to Streaming | Data Derp</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://data-derp.github.io/docs/beyond-the-batch/overview"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Intro to Streaming | Data Derp"><meta data-react-helmet="true" name="description" content="Apache Kafka"><meta data-react-helmet="true" property="og:description" content="Apache Kafka"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://data-derp.github.io/docs/beyond-the-batch/overview"><link data-react-helmet="true" rel="alternate" href="https://data-derp.github.io/docs/beyond-the-batch/overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://data-derp.github.io/docs/beyond-the-batch/overview" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9a716cea.css">
<link rel="preload" href="/assets/js/runtime~main.38b475db.js" as="script">
<link rel="preload" href="/assets/js/main.9bef39b2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Data Derp logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Data Derp logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Data Derp</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Lessons</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/data-derp/data-derp.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tour Agenda</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-engineering-the-good-parts/data-milky-way-overview">Data Engineering: The Good Parts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/project-design/overview">Project Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-ingestion/exercise-overview">Data Ingestion</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-transformation/overview">Data Transformation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-visualisation/understanding-your-data">Data Visualisation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-science-and-interpretability/overview">Data Science and Interpretability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/beyond-the-batch/overview">Beyond the Batch</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/beyond-the-batch/overview">Intro to Streaming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/beyond-the-batch/exercise">Exercise: Real World Structured Streaming</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/making-big-data-work/overview">Making Big Data Work</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/data-mesh/overview">Data Mesh</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Intro to Streaming</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="apache-kafka">Apache Kafka<a class="hash-link" href="#apache-kafka" title="Direct link to heading">‚Äã</a></h2><p><img alt="apache-kafka.png" src="/assets/images/apache-kafka-a525cbf952d1ff13db37ddb655fc9d79.png">
<img alt="topic-partitions.png" src="/assets/images/topic-partitions-64c4fdcc305488a0c6b260b30632142b.png"></p><p><a href="https://youtu.be/PzPXRmVHMxI" target="_blank" rel="noopener noreferrer">Kafka in 5 mins</a></p><p>(<a href="https://www.youtube.com/watch?v=XFqm_ILuhs0&amp;list=PLt1SIbA8guusxiHz9bveV-UHs_biWFegU&amp;ab_channel=StephaneMaarek" target="_blank" rel="noopener noreferrer">from Stephane Maarek&#x27;s playlist</a>) deeper dive, definitely worth watching the rest of
this playlist after the Kafka 101 playlist below</p><p><a href="https://www.youtube.com/watch?v=qu96DFXtbG4&amp;list=PLa7VYi0yPIH0KbnJQcMv5N9iW8HkZHztH" target="_blank" rel="noopener noreferrer">Kafka 101 Playlist</a> (<a href="https://www.youtube.com/watch?v=qu96DFXtbG4&amp;list=PLa7VYi0yPIH0KbnJQcMv5N9iW8HkZHztH" target="_blank" rel="noopener noreferrer">first 5 videos</a> in the playlist are mandatory)
Excellent introduction to the motivation and philosophy of Apache Kafka
If you‚Äôre not too bored, try to watch all of the videos on the playlist (at 1.25x or 1.5x speed)</p><ul><li>Topics <ul><li>Events are <strong>organized</strong> and durably stored in topics, similar to a folder in a filesystem,
and the events are the files in that folder. An example topic name could be &quot;payments&quot;</li></ul></li><li>Partitions<ul><li>How do you allow topics to be consumed <strong>in parallel</strong>?
*Offsets</li><li>Kafka retains records in the log in <strong>incremental fashion</strong>,
making the consumers responsible for tracking the <a href="https://github.com/kelseymok/kafka-example" target="_blank" rel="noopener noreferrer">https://github.com/kelseymok/kafka-example</a>, known as the <strong>‚Äúoffset‚Äù</strong></li></ul></li><li>Consumer Groups<ul><li>What happens if two consumers use the same Consumer Group Id?</li></ul></li></ul><p>[optional - do this after reading everything]<!-- --> Walkthrough of Kafka (<a href="http://kafka.apache.org/quickstart" target="_blank" rel="noopener noreferrer">official tutorial</a>) (run in <a href="https://github.com/kelseymok/kafka-example" target="_blank" rel="noopener noreferrer">this docker container</a>)</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cloud-offerings">Cloud Offerings<a class="hash-link" href="#cloud-offerings" title="Direct link to heading">‚Äã</a></h2><p><img alt="kafka-vs-standard-messaging.png" src="/assets/images/kafka-vs-standard-messaging-f6ed7a4dffbbbcdf20d85ed52fde7a11.png">
<a href="https://www.youtube.com/watch?v=07iZOEl0knc&amp;ab_channel=StephaneMaarek" target="_blank" rel="noopener noreferrer">Amazon Kinesis</a> (Explore the <a href="https://aws.amazon.com/kinesis/" target="_blank" rel="noopener noreferrer">main service categories of Kinesis</a>)
Kinesis is a managed alternative to Kafka for AWS, supporting most of the same features + autoscaling.
<a href="https://aws.amazon.com/msk/" target="_blank" rel="noopener noreferrer">Amazon Managed Streaming for Apache Kafka (Amazon MSK)</a> has also been recently launched</p><p><a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-for-kafka-ecosystem-overview" target="_blank" rel="noopener noreferrer">Azure Event Hubs</a>
Like Kinesis, Event Hubs also has auto-scaling capabilities (auto-inflate).
However, unlike Amazon Kinesis, Azure Event Hubs endpoints are fully-compatible with Kafka‚Äôs Producer and Consumer APIs</p><p>Bigger Picture</p><ul><li><a href="https://www.youtube.com/watch?v=lwMjjTT1Q-Q&amp;ab_channel=MarkRichards" target="_blank" rel="noopener noreferrer">Should I use Kafka (pub/sub) or a standard message queue (e.g. RabbitMQ)?</a></li><li><a href="https://betterprogramming.pub/rabbitmq-vs-kafka-1ef22a041793" target="_blank" rel="noopener noreferrer">Comprehensive comparison</a> (<a href="https://betterprogramming.pub/rabbitmq-vs-kafka-1ef22a041793" target="_blank" rel="noopener noreferrer">there&#x27;s also a Part 2 to this article - scroll to the bottom</a>)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="streaming-processing-concepts">Streaming Processing Concepts<a class="hash-link" href="#streaming-processing-concepts" title="Direct link to heading">‚Äã</a></h2><p><img alt="two-problems-distributed-systems.png" src="/assets/images/two-problems-distributed-systems-55a21cde36eea3d3631fe60274df0071.png">
<a href="https://www.confluent.io/blog/exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it/" target="_blank" rel="noopener noreferrer">Delivery Semantics</a></p><ul><li>Exactly-Once<ul><li>(may not be available in all frameworks)</li></ul></li><li>At-Most-Once</li><li>At-Least-Once</li></ul><p>How would you decide which strategy to go with?
<a href="https://keen.io/blog/demystifying-apache-kafka-message-delivery-semantics-at-most-once-at-least-once-exactly-once/" target="_blank" rel="noopener noreferrer">Concrete Example</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="advanced-considerations">Advanced Considerations<a class="hash-link" href="#advanced-considerations" title="Direct link to heading">‚Äã</a></h2><p><a href="https://www.confluent.io/blog/how-choose-number-topics-partitions-kafka-cluster/" target="_blank" rel="noopener noreferrer">How many Partitions should I set per topic?</a></p><p><a href="https://www.youtube.com/watch?v=PiEQR9AXgl4&amp;ab_channel=Databricks" target="_blank" rel="noopener noreferrer">Comparing Streaming Processing Frameworks</a>
For all intents and purposes, Apache Flink and Apache Spark are almost interchangeable in that comparison (vs Kafka Streams and Akka Streams). The only difference is that Flink can naturally run in Continuous Processing mode </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="streaming-analytics-concepts">Streaming Analytics Concepts<a class="hash-link" href="#streaming-analytics-concepts" title="Direct link to heading">‚Äã</a></h2><p><img alt="windowed-grouped-aggregation.png" src="/assets/images/windowed-grouped-aggregation-3c443b92cbcdd27cf84fa8db241dc821.png">
<a href="https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html" target="_blank" rel="noopener noreferrer">Windows</a></p><ul><li>Tumbling Windows</li><li>Sliding Windows</li><li>Session Windows<ul><li>(may not be available in all frameworks)</li></ul></li></ul><p><a href="https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#handling-late-data-and-watermarking" target="_blank" rel="noopener noreferrer">Handling Lateness &amp; Watermarking</a></p><p><a href="https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/#keyby" target="_blank" rel="noopener noreferrer">keyBy</a>
Splitting the stream logically for your domain</p><p><a href="https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/state.html#using-keyed-state" target="_blank" rel="noopener noreferrer">State</a> (using Flink as an example)</p><ul><li>Keyed State vs Operator State</li><li>Managed Data Structures for State<ul><li>ValueState</li><li>ListState</li><li>MapState</li></ul></li></ul><p><img alt="checkpoints.png" src="/assets/images/checkpoints-60fc9c0a3cc68be0cae859582f9c005a.png">
<a href="https://ci.apache.org/projects/flink/flink-docs-release-1.13/docs/dev/datastream/fault-tolerance/checkpointing/" target="_blank" rel="noopener noreferrer">Checkpointing</a>
Making sure we can recover from failures seamlessly
Analogous to log based recovery for database systems</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="stateful-streaming-in-a-nutshell">Stateful Streaming in a Nutshell<a class="hash-link" href="#stateful-streaming-in-a-nutshell" title="Direct link to heading">‚Äã</a></h2><p><img alt="stateful-streaming-in-a-nutshell.png" src="/assets/images/stateful-streaming-in-a-nutshell-4df8b807a01ac0db4ce4b07fd3550d9d.png"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/data-derp/data-derp.github.io/tree/master/docs/docs/beyond-the-batch/overview.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/data-science-and-interpretability/exercise"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Exercise</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/beyond-the-batch/exercise"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Exercise: Real World Structured Streaming</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apache-kafka" class="table-of-contents__link toc-highlight">Apache Kafka</a></li><li><a href="#cloud-offerings" class="table-of-contents__link toc-highlight">Cloud Offerings</a></li><li><a href="#streaming-processing-concepts" class="table-of-contents__link toc-highlight">Streaming Processing Concepts</a></li><li><a href="#advanced-considerations" class="table-of-contents__link toc-highlight">Advanced Considerations</a></li><li><a href="#streaming-analytics-concepts" class="table-of-contents__link toc-highlight">Streaming Analytics Concepts</a></li><li><a href="#stateful-streaming-in-a-nutshell" class="table-of-contents__link toc-highlight">Stateful Streaming in a Nutshell</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Lessons</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="#" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/data-derp" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Data Derp</div></div></div></footer></div>
<script src="/assets/js/runtime~main.38b475db.js"></script>
<script src="/assets/js/main.9bef39b2.js"></script>
</body>
</html>